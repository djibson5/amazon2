"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/create-checkout-session";
exports.ids = ["pages/api/create-checkout-session"];
exports.modules = {

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stripe");

/***/ }),

/***/ "(api)/./src/pages/api/create-checkout-session.js":
/*!**************************************************!*\
  !*** ./src/pages/api/create-checkout-session.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst stripe = __webpack_require__(/*! stripe */ \"stripe\")(process.env.STRIPE_SECRET_KEY);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    const { items , email  } = req.body;\n    console.log(items);\n    console.log(email);\n    const transformedItems = items.map((item)=>({\n            // description: item.description,\n            quantity: 1,\n            price_data: {\n                currency: \"xof\",\n                unit_amount: item.price,\n                // unit_amount: 2000,\n                product_data: {\n                    description: item.description,\n                    name: item.title,\n                    images: [\n                        item.image\n                    ]\n                }\n            }\n        }));\n    const session = await stripe.checkout.sessions.create({\n        // payment_method_types: [\"card\"],\n        shipping_options: [\n            {\n                shipping_rate_data: {\n                    type: \"fixed_amount\",\n                    //   fixed_amount: ['shr_1MYwHcFGXe0w6Q7UdmQHZKmK'],\n                    fixed_amount: {\n                        amount: 2000,\n                        currency: \"xof\"\n                    },\n                    display_name: \"Delai de livraison :\",\n                    // shipping_rates:['shr_1MYwHcFGXe0w6Q7UdmQHZKmK']\n                    delivery_estimate: {\n                        minimum: {\n                            unit: \"business_day\",\n                            value: 1\n                        },\n                        maximum: {\n                            unit: \"business_day\",\n                            value: 2\n                        }\n                    }\n                }\n            }\n        ],\n        shipping_address_collection: {\n            allowed_countries: [\n                \"SN\"\n            ]\n        },\n        line_items: transformedItems,\n        mode: \"payment\",\n        success_url: `${process.env.HOST}/success`,\n        cancel_url: `${process.env.HOST}/checkout`,\n        metadata: {\n            email,\n            images: JSON.stringify(items.map((item)=>item.image))\n        }\n    });\n    // const session = await stripe.checkout.sessions.create({\n    //     shipping_address_collection: {\n    //     allowed_countries: ['US', 'CA']\n    //                                  },\n    //     shipping_options: [\n    //       {\n    //         shipping_rate_data: {\n    //           type: 'fixed_amount',\n    //           fixed_amount: {amount: 0, currency: 'usd'},\n    //           display_name: 'Free shipping',\n    //           delivery_estimate: {\n    //             minimum: {unit: 'business_day', value: 5},\n    //             maximum: {unit: 'business_day', value: 7},\n    //           },\n    //         },\n    //       },\n    //     ],\n    //     line_items: [\n    //       {\n    //         price_data: {\n    //             currency: 'usd', \n    //             product_data: {\n    //                 name: 'T-shirt'}, \n    //                 unit_amount: 2000\n    //                     },\n    //         quantity: 1,\n    //       },\n    //     ],\n    //     mode: 'payment',\n    //     success_url: 'https://example.com/success',\n    //     cancel_url: 'https://example.com/cancel',\n    //   });\n    res.status(200).json({\n        id: session.id\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NyZWF0ZS1jaGVja291dC1zZXNzaW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxTQUFTQyxtQkFBT0EsQ0FBRSx3QkFBVUMsUUFBUUMsR0FBRyxDQUFDQyxpQkFBaUI7QUFFL0QsaUVBQWUsT0FBT0MsS0FBS0MsTUFBUTtJQUNuQyxNQUFNLEVBQUNDLE1BQUssRUFBRUMsTUFBSyxFQUFDLEdBQUdILElBQUlJLElBQUk7SUFFOUJDLFFBQVFDLEdBQUcsQ0FBQ0o7SUFDWkcsUUFBUUMsR0FBRyxDQUFDSDtJQUViLE1BQU1JLG1CQUFtQkwsTUFBTU0sR0FBRyxDQUFDQyxDQUFBQSxPQUFTO1lBRXpDLGlDQUFpQztZQUNoQ0MsVUFBVTtZQUVWQyxZQUFZO2dCQUNSQyxVQUFVO2dCQUNWQyxhQUFhSixLQUFLSyxLQUFLO2dCQUN4QixxQkFBcUI7Z0JBRXBCQyxjQUFhO29CQUNYQyxhQUFhUCxLQUFLTyxXQUFXO29CQUM3QkMsTUFBTVIsS0FBS1MsS0FBSztvQkFDaEJDLFFBQVE7d0JBQUNWLEtBQUtXLEtBQUs7cUJBQUM7Z0JBQ3RCO1lBQ0o7UUFHSjtJQUVBLE1BQU1DLFVBQVUsTUFBTTFCLE9BQU8yQixRQUFRLENBQUNDLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDO1FBQ25ELGtDQUFrQztRQUVsQ0Msa0JBQWtCO1lBQ2pCO2dCQUNJQyxvQkFBb0I7b0JBQ2hCQyxNQUFNO29CQUNULG9EQUFvRDtvQkFDL0NDLGNBQWM7d0JBQUNDLFFBQVE7d0JBQU1qQixVQUFVO29CQUFLO29CQUM1Q2tCLGNBQWM7b0JBQ3JCLGtEQUFrRDtvQkFDM0NDLG1CQUFtQjt3QkFDYkMsU0FBUzs0QkFBQ0MsTUFBTTs0QkFBZ0JDLE9BQU87d0JBQUM7d0JBQ3hDQyxTQUFTOzRCQUFDRixNQUFNOzRCQUFnQkMsT0FBTzt3QkFBQztvQkFDMUM7Z0JBRVY7WUFDSjtTQUNFO1FBRUZFLDZCQUE2QjtZQUMxQkMsbUJBQW1CO2dCQUFDO2FBQUs7UUFDNUI7UUFFQUMsWUFBWS9CO1FBRVpnQyxNQUFNO1FBQ05DLGFBQWEsQ0FBQyxFQUFFM0MsUUFBUUMsR0FBRyxDQUFDMkMsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUMxQ0MsWUFBWSxDQUFDLEVBQUU3QyxRQUFRQyxHQUFHLENBQUMyQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzFDRSxVQUFVO1lBQ054QztZQUNBZ0IsUUFBUXlCLEtBQUtDLFNBQVMsQ0FBQzNDLE1BQU1NLEdBQUcsQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS1csS0FBSztRQUN2RDtJQUNKO0lBRUEsMERBQTBEO0lBRTFELHFDQUFxQztJQUNyQyxzQ0FBc0M7SUFDdEMsc0NBQXNDO0lBRXRDLDBCQUEwQjtJQUMxQixVQUFVO0lBQ1YsZ0NBQWdDO0lBQ2hDLGtDQUFrQztJQUNsQyx3REFBd0Q7SUFDeEQsMkNBQTJDO0lBQzNDLGlDQUFpQztJQUNqQyx5REFBeUQ7SUFDekQseURBQXlEO0lBQ3pELGVBQWU7SUFDZixhQUFhO0lBQ2IsV0FBVztJQUNYLFNBQVM7SUFFVCxvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLHdCQUF3QjtJQUN4QixnQ0FBZ0M7SUFFaEMsOEJBQThCO0lBQzlCLHFDQUFxQztJQUNyQyxvQ0FBb0M7SUFDcEMseUJBQXlCO0lBQ3pCLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsU0FBUztJQUNULHVCQUF1QjtJQUN2QixrREFBa0Q7SUFDbEQsZ0RBQWdEO0lBQ2hELFFBQVE7SUFFUm5CLElBQUk2QyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1FBQUNDLElBQUkzQixRQUFRMkIsRUFBRTtJQUFBO0FBQ3BDLEdBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93aXRoLXJlZHV4LXRvb2xraXQvLi9zcmMvcGFnZXMvYXBpL2NyZWF0ZS1jaGVja291dC1zZXNzaW9uLmpzP2JhMjIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3RyaXBlID0gcmVxdWlyZSAoJ3N0cmlwZScpKHByb2Nlc3MuZW52LlNUUklQRV9TRUNSRVRfS0VZKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5jb25zdCB7aXRlbXMsIGVtYWlsfSA9IHJlcS5ib2R5IDtcblxuIGNvbnNvbGUubG9nKGl0ZW1zKTtcbiBjb25zb2xlLmxvZyhlbWFpbCk7XG5cbmNvbnN0IHRyYW5zZm9ybWVkSXRlbXMgPSBpdGVtcy5tYXAoaXRlbSA9PiAoe1xuXG4gICAvLyBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICBxdWFudGl0eTogMSxcbiAgICBcbiAgICBwcmljZV9kYXRhOiB7XG4gICAgICAgIGN1cnJlbmN5OiAneG9mJyxcbiAgICAgICAgdW5pdF9hbW91bnQ6KGl0ZW0ucHJpY2UpLCAvL2l0ZW0ucHJpY2UgKiAxMDAsXG4gICAgICAgLy8gdW5pdF9hbW91bnQ6IDIwMDAsXG5cbiAgICAgICAgcHJvZHVjdF9kYXRhOntcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBuYW1lOiBpdGVtLnRpdGxlLFxuICAgICAgICAgIGltYWdlczogW2l0ZW0uaW1hZ2VdXG4gICAgICAgIH0sXG4gICAgfVxuXG5cbn0pKTtcblxuY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHN0cmlwZS5jaGVja291dC5zZXNzaW9ucy5jcmVhdGUoe1xuICAgLy8gcGF5bWVudF9tZXRob2RfdHlwZXM6IFtcImNhcmRcIl0sXG5cbiAgIHNoaXBwaW5nX29wdGlvbnM6IFtcbiAgICB7XG4gICAgICAgIHNoaXBwaW5nX3JhdGVfZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2ZpeGVkX2Ftb3VudCcsXG4gICAgICAgICAvLyAgIGZpeGVkX2Ftb3VudDogWydzaHJfMU1Zd0hjRkdYZTB3NlE3VWRtUUhaS21LJ10sXG4gICAgICAgICAgICAgIGZpeGVkX2Ftb3VudDoge2Ftb3VudDogMjAwMCwgY3VycmVuY3k6ICd4b2YnfSxcbiAgICAgICAgICAgICAgZGlzcGxheV9uYW1lOiAnRGVsYWkgZGUgbGl2cmFpc29uIDonLFxuICAgICAgIC8vIHNoaXBwaW5nX3JhdGVzOlsnc2hyXzFNWXdIY0ZHWGUwdzZRN1VkbVFIWkttSyddXG4gICAgICAgICAgICAgIGRlbGl2ZXJ5X2VzdGltYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IHt1bml0OiAnYnVzaW5lc3NfZGF5JywgdmFsdWU6IDF9LFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiB7dW5pdDogJ2J1c2luZXNzX2RheScsIHZhbHVlOiAyfSxcbiAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgfVxuICAgIH0sXG4gICAgIF0sXG5cbiAgICBzaGlwcGluZ19hZGRyZXNzX2NvbGxlY3Rpb246IHtcbiAgICAgICBhbGxvd2VkX2NvdW50cmllczogWydTTiddLFxuICAgIH0sXG4gICAgXG4gICAgbGluZV9pdGVtczogdHJhbnNmb3JtZWRJdGVtcyxcblxuICAgIG1vZGU6ICdwYXltZW50JyxcbiAgICBzdWNjZXNzX3VybDogYCR7cHJvY2Vzcy5lbnYuSE9TVH0vc3VjY2Vzc2AsXG4gICAgY2FuY2VsX3VybDogYCR7cHJvY2Vzcy5lbnYuSE9TVH0vY2hlY2tvdXRgLFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBpbWFnZXM6IEpTT04uc3RyaW5naWZ5KGl0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaW1hZ2UpKVxuICAgIH1cbn0pO1xuXG4vLyBjb25zdCBzZXNzaW9uID0gYXdhaXQgc3RyaXBlLmNoZWNrb3V0LnNlc3Npb25zLmNyZWF0ZSh7XG5cbi8vICAgICBzaGlwcGluZ19hZGRyZXNzX2NvbGxlY3Rpb246IHtcbi8vICAgICBhbGxvd2VkX2NvdW50cmllczogWydVUycsICdDQSddXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuXG4vLyAgICAgc2hpcHBpbmdfb3B0aW9uczogW1xuLy8gICAgICAge1xuLy8gICAgICAgICBzaGlwcGluZ19yYXRlX2RhdGE6IHtcbi8vICAgICAgICAgICB0eXBlOiAnZml4ZWRfYW1vdW50Jyxcbi8vICAgICAgICAgICBmaXhlZF9hbW91bnQ6IHthbW91bnQ6IDAsIGN1cnJlbmN5OiAndXNkJ30sXG4vLyAgICAgICAgICAgZGlzcGxheV9uYW1lOiAnRnJlZSBzaGlwcGluZycsXG4vLyAgICAgICAgICAgZGVsaXZlcnlfZXN0aW1hdGU6IHtcbi8vICAgICAgICAgICAgIG1pbmltdW06IHt1bml0OiAnYnVzaW5lc3NfZGF5JywgdmFsdWU6IDV9LFxuLy8gICAgICAgICAgICAgbWF4aW11bToge3VuaXQ6ICdidXNpbmVzc19kYXknLCB2YWx1ZTogN30sXG4vLyAgICAgICAgICAgfSxcbi8vICAgICAgICAgfSxcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcblxuLy8gICAgIGxpbmVfaXRlbXM6IFtcbi8vICAgICAgIHtcbi8vICAgICAgICAgcHJpY2VfZGF0YToge1xuLy8gICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLCBcblxuLy8gICAgICAgICAgICAgcHJvZHVjdF9kYXRhOiB7XG4vLyAgICAgICAgICAgICAgICAgbmFtZTogJ1Qtc2hpcnQnfSwgXG4vLyAgICAgICAgICAgICAgICAgdW5pdF9hbW91bnQ6IDIwMDBcbi8vICAgICAgICAgICAgICAgICAgICAgfSxcbi8vICAgICAgICAgcXVhbnRpdHk6IDEsXG4vLyAgICAgICB9LFxuLy8gICAgIF0sXG4vLyAgICAgbW9kZTogJ3BheW1lbnQnLFxuLy8gICAgIHN1Y2Nlc3NfdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9zdWNjZXNzJyxcbi8vICAgICBjYW5jZWxfdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9jYW5jZWwnLFxuLy8gICB9KTtcblxucmVzLnN0YXR1cygyMDApLmpzb24oe2lkOiBzZXNzaW9uLmlkfSlcbn0iXSwibmFtZXMiOlsic3RyaXBlIiwicmVxdWlyZSIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWSIsInJlcSIsInJlcyIsIml0ZW1zIiwiZW1haWwiLCJib2R5IiwiY29uc29sZSIsImxvZyIsInRyYW5zZm9ybWVkSXRlbXMiLCJtYXAiLCJpdGVtIiwicXVhbnRpdHkiLCJwcmljZV9kYXRhIiwiY3VycmVuY3kiLCJ1bml0X2Ftb3VudCIsInByaWNlIiwicHJvZHVjdF9kYXRhIiwiZGVzY3JpcHRpb24iLCJuYW1lIiwidGl0bGUiLCJpbWFnZXMiLCJpbWFnZSIsInNlc3Npb24iLCJjaGVja291dCIsInNlc3Npb25zIiwiY3JlYXRlIiwic2hpcHBpbmdfb3B0aW9ucyIsInNoaXBwaW5nX3JhdGVfZGF0YSIsInR5cGUiLCJmaXhlZF9hbW91bnQiLCJhbW91bnQiLCJkaXNwbGF5X25hbWUiLCJkZWxpdmVyeV9lc3RpbWF0ZSIsIm1pbmltdW0iLCJ1bml0IiwidmFsdWUiLCJtYXhpbXVtIiwic2hpcHBpbmdfYWRkcmVzc19jb2xsZWN0aW9uIiwiYWxsb3dlZF9jb3VudHJpZXMiLCJsaW5lX2l0ZW1zIiwibW9kZSIsInN1Y2Nlc3NfdXJsIiwiSE9TVCIsImNhbmNlbF91cmwiLCJtZXRhZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJqc29uIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/create-checkout-session.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/create-checkout-session.js"));
module.exports = __webpack_exports__;

})();